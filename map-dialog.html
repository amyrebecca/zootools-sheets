<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css" />
    <?!= include('styles'); ?>
  </head>
  <body class="dialog">
    <!-- Below is the HTML code that defines the dialog element structure. -->
    <div>
      <div class="block dialog-elements">
        <? columnDefs = clientGetColumnVariables(); ?>
        <div class="form-group" style="display: inline-block;">
          <h6>Latitude</h6>
          <select id="latitude" style="width:100%;">
            <? for(var i = 0; i < columnDefs.length; i++) { ?>
              <option><?= columnDefs[i].name ?></option>
            <? } ?>
          </select>
        </div>
        <div class="form-group" style="display: inline-block;">
          <h6>Longitude</h6>
          <select id="longitude" style="width: 100%;">
            <? for(var i = 0; i < columnDefs.length; i++) { ?>
              <option><?= columnDefs[i].name ?></option>
            <? } ?>
          </select>
        </div>
        <div id="status" style="display: inline-block; margin-left: 1em;"></div>
        <div id="map-container" style="height: 265px; width: 100%;"></div>
      </div>
      <div class="block dialog-button-bar">
        <button type="button" class="button action" onclick="getCoordinates()">Map</button>
        <button type="button" class="button" onclick="google.script.host.close()">Close</button>
      </div> 
    </div>

    <!-- Use a templated HTML printing scriptlet to import JavaScript. -->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <?!= include('map-script'); ?>
  </body>
</html>